function EnableBootstrapSelectPicker(){$(".selectpicker").selectpicker({style:"btn-primary",size:10,dropupAuto:!1}),$(".selectpicker-templates").selectpicker({style:"btn-default",size:10,dropupAuto:!1}),$(".selectpicker-templates").on("changed.bs.select",function(){$(".new-document").attr("href",$(".new-document").attr("original-href")+"/"+$(".selectpicker-templates").val()),$(".new-document")[0].click()})}function EnableAutoCloseAlerts(){$(".alert").fadeTo(2e3,500).fadeOut(500,function(){$(".alert").alert("close")})}function EnableEpicEditor(){$("#epiceditor").length&&$("#epiceditor").hasClass("readonly")?EnableReadonlyEpicEditor():$("#epiceditor").length&&!$("#epiceditor").hasClass("readonly")&&EnableEditableEpicEditor()}function EnableReadonlyEpicEditor(){var e={container:"epiceditor",textarea:"epiceditor_textarea",basePath:"/assets/vendor/EpicEditor/epiceditor/",clientSideStorage:!1,useNativeFullscreen:!0,parser:marked,file:{name:"epiceditor"},theme:{base:"themes/base/epiceditor.css",preview:"themes/preview/github.css",editor:"themes/editor/epic-light.css"},button:{preview:!1,fullscreen:!1,bar:!1},focusOnLoad:!1,shortcut:{modifier:18,fullscreen:70,preview:80},string:{togglePreview:"Toggle Preview Mode",toggleEdit:"Toggle Edit Mode",toggleFullscreen:"Enter Fullscreen"},autogrow:{autogrow:!0,minHeight:500}},t=new EpicEditor(e).load();t.preview(),EnableTabKey(t),EnableCustomEpicEditorCommands(t)}function EnableEditableEpicEditor(){var e={container:"epiceditor",textarea:"epiceditor_textarea",basePath:"/assets/vendor/EpicEditor/epiceditor/",clientSideStorage:!1,useNativeFullscreen:!0,parser:marked,file:{name:"epiceditor"},theme:{base:"themes/base/epiceditor.css",preview:"themes/preview/github.css",editor:"themes/editor/epic-light.css"},button:{preview:!0,fullscreen:!0,bar:!0},focusOnLoad:!1,shortcut:{modifier:18,fullscreen:70,preview:80},string:{togglePreview:"Toggle Preview Mode",toggleEdit:"Toggle Edit Mode",toggleFullscreen:"Enter Fullscreen"},autogrow:{autogrow:!0,minHeight:500}},t=new EpicEditor(e).load();EnableTabKey(t),EnableCustomEpicEditorCommands(t)}function EnableTabKey(e){$(e.editor).on("keydown",function(t){var i=t.keyCode||t.which;9==i&&(t.preventDefault(),window.DefaultCommands.indent(e,e.editorIframeDocument.getSelection()))})}function EnableCustomEpicEditorCommands(){var e=Object.create(null);e={indent:function(e,t){var i=prefixLines(getLines(t),"	");replaceWithLines(e.editorIframeDocument,t,i)}},window.DefaultCommands=e}function EnableEpicEditorExport(){$(".export").on("click",function(){var e=new Blob([$("textarea").val()],{type:"text/plain;charset=utf-8"});saveAs(e,"GetDown.md")})}function getLines(e){var t=e.toString();return t?t.split("\n"):[]}function prefixLines(e,t){return e.map(function(e){return t+e})}function replaceWithLines(e,t,i){if((null===e||void 0===e)&&(e=window.document),0!==t.rangeCount){if(0===i.length)return void e.execCommand("insertText",!1,"	");var n=t.getRangeAt(0);if(n.deleteContents(),n.collapse(!1),i){for(var o=e.createDocumentFragment(),r=0;r<i.length;r++)e.execCommand("insertText",!1,i[r]),r<i.length-1&&e.execCommand("insertText",!1,"\n");n.insertNode(o.cloneNode(!0))}}}$(document).ready(function(){EnableBootstrapSelectPicker(),EnableAutoCloseAlerts(),EnableEpicEditor(),EnableEpicEditorExport()});