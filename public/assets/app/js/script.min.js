function EnableBootstrapSelectPicker(){$(".selectpicker").selectpicker({style:"btn-primary",size:10,dropupAuto:!1}),$(".selectpicker-templates").selectpicker({style:"btn-default",size:10,dropupAuto:!1}),$(".selectpicker-templates").on("changed.bs.select",function(){$(".new-document").attr("href",$(".new-document").attr("original-href")+"/"+$(".selectpicker-templates").val()),$(".new-document")[0].click()})}function EnableAutoCloseAlerts(){$(".alert").fadeTo(2e3,500).fadeOut(500,function(){$(".alert").alert("close")})}function EnableEpicEditors(){var e={editable:!1,container:"epiceditor",textarea:"epiceditor_textarea",basePath:"/assets/vendor/EpicEditor/epiceditor/",clientSideStorage:!1,useNativeFullscreen:!0,parser:marked,file:{name:"epiceditor"},theme:{base:"themes/base/epiceditor.css",preview:"themes/preview/github.css",editor:"themes/editor/epic-light.css"},button:{preview:!1,fullscreen:!1,bar:!1},focusOnLoad:!1,shortcut:{modifier:18,fullscreen:70,preview:80},string:{togglePreview:"Toggle Preview Mode",toggleEdit:"Toggle Edit Mode",toggleFullscreen:"Enter Fullscreen"},autogrow:{autogrow:!0,minHeight:500}},t=jQuery.extend(!0,{},e);t.editable=!0,t.button.preview=!0,t.button.fullscreen=!0,t.button.bar=!0;var n=$("#epiceditor").hasClass("readonly")?e:t;$("#epiceditor").each(function(){EnableEpicEditor(n)})}function EnableEpicEditor(e){var t,n=new EpicEditor(e);n.on("load",function(){t=this.getElement("previewer");var n=t.createElement("link");n.rel="stylesheet",n.type="text/css",n.href="/assets/vendor/highlightjs/styles/github.css",t.head.appendChild(n),e.editable===!1&&this.preview()}),n.on("preview",function(){t=this.getElement("previewer");var e=t.body,n=e.getElementsByTagName("code");$(n).each(function(e,t){hljs.highlightBlock(t)})}),n.load(),EnableTabKey(n),EnableCustomEpicEditorCommands(n)}function EnableTabKey(e){$(e.editor).on("keydown",function(t){var n=t.keyCode||t.which;9==n&&(t.preventDefault(),window.DefaultCommands.indent(e,e.editorIframeDocument.getSelection()))})}function EnableCustomEpicEditorCommands(){var e=Object.create(null);e={indent:function(e,t){var n=prefixLines(getLines(t),"	");replaceWithLines(e.editorIframeDocument,t,n)}},window.DefaultCommands=e}function EnableEpicEditorExport(){$(".export").on("click",function(){var e=new Blob([$("textarea").val()],{type:"text/plain;charset=utf-8"});saveAs(e,"GetDown.md")})}function getLines(e){var t=e.toString();return t?t.split("\n"):[]}function prefixLines(e,t){return e.map(function(e){return t+e})}function replaceWithLines(e,t,n){if((null===e||void 0===e)&&(e=window.document),0!==t.rangeCount){if(0===n.length)return void e.execCommand("insertText",!1,"	");var i=t.getRangeAt(0);if(i.deleteContents(),i.collapse(!1),n){for(var o=e.createDocumentFragment(),r=0;r<n.length;r++)e.execCommand("insertText",!1,n[r]),r<n.length-1&&e.execCommand("insertText",!1,"\n");i.insertNode(o.cloneNode(!0))}}}$(document).ready(function(){EnableBootstrapSelectPicker(),EnableAutoCloseAlerts(),EnableEpicEditors(),EnableEpicEditorExport()});